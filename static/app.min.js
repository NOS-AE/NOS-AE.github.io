// 针对之前部署过自带PWA的博客主题，或者其它原因，都将自动注销service worker
self.addEventListener('install', function () {
    self.skipWaiting();
});

self.addEventListener('activate', function () {
    console.log("unregistering service worker")
    self.registration.unregister().then(() => {
        return self.clients.matchAll();
    }).then(clients => {
        clients.forEach(client => client.navigate(client.url));
    });
});
